{"id":374,"date":"2023-01-14T13:16:30","date_gmt":"2023-01-14T13:16:30","guid":{"rendered":"http:\/\/space520.42web.io\/?p=354"},"modified":"2023-01-14T13:16:30","modified_gmt":"2023-01-14T13:16:30","slug":"aplayer","status":"publish","type":"post","link":"https:\/\/space520.eu.org\/archives\/374","title":{"rendered":"APlayer"},"content":{"rendered":"\n<p>\ud83c\udf6d Wow, such a beautiful HTML5 music player  (\u54c7\uff0c\u8fd9\u4e48\u6f02\u4eae\u7684HTML5\u97f3\u4e50\u64ad\u653e\u5668)<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u5b89\u88c5\">\u5b89\u88c5<\/h2>\n\n\n\n<p>\u4f7f\u7528 npm:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>npm install aplayer --save\n<\/code><\/pre>\n\n\n\n<p>\u4f7f\u7528 Yarn:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>yarn add aplayer\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u5165\u95e8\">\u5165\u95e8<\/h2>\n\n\n\n<pre class=\"wp-block-code\"><code>&lt;link rel=\"stylesheet\" href=\"APlayer.min.css\"&gt;\n&lt;div id=\"aplayer\"&gt;&lt;\/div&gt;\n&lt;script src=\"APlayer.min.js\"&gt;&lt;\/script&gt;\n<\/code><\/pre>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    audio: &#91;{\n        name: 'name',\n        artist: 'artist',\n        url: 'url.mp3',\n        cover: 'cover.jpg'\n    }]\n});\n<\/code><\/pre>\n\n\n\n<p>\u4f7f\u7528\u6a21\u5757\u7ba1\u7406\u5668:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>import 'APlayer\/dist\/APlayer.min.css';\nimport APlayer from 'APlayer';\n\nconst ap = new APlayer(options);\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u53c2\u6570\">\u53c2\u6570<\/h2>\n\n\n\n<figure class=\"wp-block-table\"><table><thead><tr><th>\u540d\u79f0<\/th><th>\u9ed8\u8ba4\u503c<\/th><th>\u63cf\u8ff0<\/th><\/tr><\/thead><tbody><tr><td>container<\/td><td>document.querySelector(&#8216;.aplayer&#8217;)<\/td><td>\u64ad\u653e\u5668\u5bb9\u5668\u5143\u7d20<\/td><\/tr><tr><td>fixed<\/td><td>false<\/td><td>\u5f00\u542f\u5438\u5e95\u6a21\u5f0f,&nbsp;<a href=\"https:\/\/aplayer.js.org\/#\/home?id=fixed-mode\">\u8be6\u60c5<\/a><\/td><\/tr><tr><td>mini<\/td><td>false<\/td><td>\u5f00\u542f\u8ff7\u4f60\u6a21\u5f0f,&nbsp;<a href=\"https:\/\/aplayer.js.org\/#\/home?id=mini-mode\" target=\"_blank\" rel=\"noreferrer noopener\">\u8be6\u60c5<\/a><\/td><\/tr><tr><td>autoplay<\/td><td>false<\/td><td>\u97f3\u9891\u81ea\u52a8\u64ad\u653e<\/td><\/tr><tr><td>theme<\/td><td>&#8216;#b7daff&#8217;<\/td><td>\u4e3b\u9898\u8272<\/td><\/tr><tr><td>loop<\/td><td>&#8216;all&#8217;<\/td><td>\u97f3\u9891\u5faa\u73af\u64ad\u653e, \u53ef\u9009\u503c: &#8216;all&#8217;, &#8216;one&#8217;, &#8216;none&#8217;<\/td><\/tr><tr><td>order<\/td><td>&#8216;list&#8217;<\/td><td>\u97f3\u9891\u5faa\u73af\u987a\u5e8f, \u53ef\u9009\u503c: &#8216;list&#8217;, &#8216;random&#8217;<\/td><\/tr><tr><td>preload<\/td><td>&#8216;auto&#8217;<\/td><td>\u9884\u52a0\u8f7d\uff0c\u53ef\u9009\u503c: &#8216;none&#8217;, &#8216;metadata&#8217;, &#8216;auto&#8217;<\/td><\/tr><tr><td>volume<\/td><td>0.7<\/td><td>\u9ed8\u8ba4\u97f3\u91cf\uff0c\u8bf7\u6ce8\u610f\u64ad\u653e\u5668\u4f1a\u8bb0\u5fc6\u7528\u6237\u8bbe\u7f6e\uff0c\u7528\u6237\u624b\u52a8\u8bbe\u7f6e\u97f3\u91cf\u540e\u9ed8\u8ba4\u97f3\u91cf\u5373\u5931\u6548<\/td><\/tr><tr><td>audio<\/td><td>&#8211;<\/td><td>\u97f3\u9891\u4fe1\u606f, \u5e94\u8be5\u662f\u4e00\u4e2a\u5bf9\u8c61\u6216\u5bf9\u8c61\u6570\u7ec4<\/td><\/tr><tr><td>audio.name<\/td><td>&#8211;<\/td><td>\u97f3\u9891\u540d\u79f0<\/td><\/tr><tr><td>audio.artist<\/td><td>&#8211;<\/td><td>\u97f3\u9891\u827a\u672f\u5bb6<\/td><\/tr><tr><td>audio.url<\/td><td>&#8211;<\/td><td>\u97f3\u9891\u94fe\u63a5<\/td><\/tr><tr><td>audio.cover<\/td><td>&#8211;<\/td><td>\u97f3\u9891\u5c01\u9762<\/td><\/tr><tr><td>audio.lrc<\/td><td>&#8211;<\/td><td><a href=\"https:\/\/aplayer.js.org\/#\/home?id=lrc\" target=\"_blank\" rel=\"noreferrer noopener\">\u8be6\u60c5<\/a><\/td><\/tr><tr><td>audio.theme<\/td><td>&#8211;<\/td><td>\u5207\u6362\u5230\u6b64\u97f3\u9891\u65f6\u7684\u4e3b\u9898\u8272\uff0c\u6bd4\u4e0a\u9762\u7684 theme \u4f18\u5148\u7ea7\u9ad8<\/td><\/tr><tr><td>audio.type<\/td><td>&#8216;auto&#8217;<\/td><td>\u53ef\u9009\u503c: &#8216;auto&#8217;, &#8216;hls&#8217;, &#8216;normal&#8217; \u6216\u5176\u4ed6\u81ea\u5b9a\u4e49\u7c7b\u578b,&nbsp;<a href=\"https:\/\/aplayer.js.org\/#\/home?id=mse-support\" target=\"_blank\" rel=\"noreferrer noopener\">\u8be6\u60c5<\/a><\/td><\/tr><tr><td>customAudioType<\/td><td>&#8211;<\/td><td>\u81ea\u5b9a\u4e49\u7c7b\u578b\uff0c<a href=\"https:\/\/aplayer.js.org\/#\/home?id=mse-support\" target=\"_blank\" rel=\"noreferrer noopener\">\u8be6\u60c5<\/a><\/td><\/tr><tr><td>mutex<\/td><td>true<\/td><td>\u4e92\u65a5\uff0c\u963b\u6b62\u591a\u4e2a\u64ad\u653e\u5668\u540c\u65f6\u64ad\u653e\uff0c\u5f53\u524d\u64ad\u653e\u5668\u64ad\u653e\u65f6\u6682\u505c\u5176\u4ed6\u64ad\u653e\u5668<\/td><\/tr><tr><td>lrcType<\/td><td>0<\/td><td><a href=\"https:\/\/aplayer.js.org\/#\/home?id=lrc\" target=\"_blank\" rel=\"noreferrer noopener\">\u8be6\u60c5<\/a><\/td><\/tr><tr><td>listFolded<\/td><td>false<\/td><td>\u5217\u8868\u9ed8\u8ba4\u6298\u53e0<\/td><\/tr><tr><td>listMaxHeight<\/td><td>&#8211;<\/td><td>\u5217\u8868\u6700\u5927\u9ad8\u5ea6<\/td><\/tr><tr><td>storageName<\/td><td>&#8216;aplayer-setting&#8217;<\/td><td>\u5b58\u50a8\u64ad\u653e\u5668\u8bbe\u7f6e\u7684 localStorage key<\/td><\/tr><\/tbody><\/table><\/figure>\n\n\n\n<p>\u4f8b\u5982:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('player'),\n    mini: false,\n    autoplay: false,\n    theme: '#FADFA3',\n    loop: 'all',\n    order: 'random',\n    preload: 'auto',\n    volume: 0.7,\n    mutex: true,\n    listFolded: false,\n    listMaxHeight: 90,\n    lrcType: 3,\n    audio: &#91;\n        {\n            name: 'name1',\n            artist: 'artist1',\n            url: 'url1.mp3',\n            cover: 'cover1.jpg',\n            lrc: 'lrc1.lrc',\n            theme: '#ebd0c2'\n        },\n        {\n            name: 'name2',\n            artist: 'artist2',\n            url: 'url2.mp3',\n            cover: 'cover2.jpg',\n            lrc: 'lrc2.lrc',\n            theme: '#46718b'\n        }\n    ]\n});\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"api\">API<\/h2>\n\n\n\n<ul>\n<li><code>APlayer.version<\/code>: \u9759\u6001\u5c5e\u6027, \u8fd4\u56de APlayer \u7684\u7248\u672c\u53f7<\/li>\n\n\n\n<li><code>ap.play()<\/code>: \u64ad\u653e\u97f3\u9891<\/li>\n\n\n\n<li><code>ap.pause()<\/code>: \u6682\u505c\u97f3\u9891<\/li>\n\n\n\n<li><code>ap.seek(time: number)<\/code>: \u8df3\u8f6c\u5230\u7279\u5b9a\u65f6\u95f4\uff0c\u65f6\u95f4\u7684\u5355\u4f4d\u4e3a\u79d2<code>ap.seek(100);<\/code><\/li>\n\n\n\n<li><code>ap.toggle()<\/code>: \u5207\u6362\u64ad\u653e\u548c\u6682\u505c<\/li>\n\n\n\n<li><code>ap.on(event: string, handler: function)<\/code>: \u7ed1\u5b9a\u97f3\u9891\u548c\u64ad\u653e\u5668\u4e8b\u4ef6\uff0c<a href=\"https:\/\/aplayer.js.org\/#\/home?id=event-binding\" target=\"_blank\" rel=\"noreferrer noopener\">\u8be6\u60c5<\/a><\/li>\n\n\n\n<li><code>ap.volume(percentage: number, nostorage: boolean)<\/code>: \u8bbe\u7f6e\u97f3\u9891\u97f3\u91cf<code>ap.volume(0.1, true);<\/code><\/li>\n\n\n\n<li><code>ap.theme(color: string, index: number)<\/code>: \u8bbe\u7f6e\u64ad\u653e\u5668\u4e3b\u9898\u8272, index \u9ed8\u8ba4\u4e3a\u5f53\u524d\u97f3\u9891\u7684 index<code>ap.theme('#000', 0);<\/code><\/li>\n\n\n\n<li><code>ap.setMode(mode: string)<\/code>: \u8bbe\u7f6e\u64ad\u653e\u5668\u6a21\u5f0f\uff0cmode \u53d6\u503c\u5e94\u4e3a &#8216;mini&#8217; \u6216 &#8216;normal&#8217;<\/li>\n\n\n\n<li><code>ap.mode<\/code>: \u8fd4\u56de\u64ad\u653e\u5668\u5f53\u524d\u6a21\u5f0f\uff0c&#8217;mini&#8217; \u6216 &#8216;normal&#8217;<\/li>\n\n\n\n<li><code>ap.notice(text: string, time: number, opacity: number)<\/code>: \u663e\u793a\u901a\u77e5\uff0c\u65f6\u95f4\u7684\u5355\u4f4d\u4e3a\u6beb\u79d2\uff0c\u9ed8\u8ba4\u65f6\u95f4 2000 \u6beb\u79d2\uff0c\u9ed8\u8ba4\u900f\u660e\u5ea6 0.8\uff0c\u8bbe\u7f6e\u65f6\u95f4\u4e3a 0 \u53ef\u4ee5\u53d6\u6d88\u901a\u77e5\u81ea\u52a8\u9690\u85cf<code>ap.notice('Amazing player', 2000, 0.8);<\/code><\/li>\n\n\n\n<li><code>ap.skipBack()<\/code>: \u5207\u6362\u5230\u4e0a\u4e00\u9996\u97f3\u9891<\/li>\n\n\n\n<li><code>ap.skipForward()<\/code>: \u5207\u6362\u5230\u4e0b\u4e00\u9996\u97f3\u9891<\/li>\n\n\n\n<li><code>ap.destroy()<\/code>: \u9500\u6bc1\u64ad\u653e\u5668<\/li>\n\n\n\n<li><code>ap.lrc<\/code>\n<ul>\n<li><code>ap.lrc.show()<\/code>: \u663e\u793a\u6b4c\u8bcd<\/li>\n\n\n\n<li><code>ap.lrc.hide()<\/code>: \u9690\u85cf\u6b4c\u8bcd<\/li>\n\n\n\n<li><code>ap.lrc.toggle()<\/code>: \u663e\u793a\/\u9690\u85cf\u6b4c\u8bcd<\/li>\n<\/ul>\n<\/li>\n\n\n\n<li><code>ap.list<\/code><ul><li><code>ap.list.show()<\/code>: \u663e\u793a\u64ad\u653e\u5217\u8868<\/li><li><code>ap.list.hide()<\/code>: \u9690\u85cf\u64ad\u653e\u5217\u8868<\/li><li><code>ap.list.toggle()<\/code>: \u663e\u793a\/\u9690\u85cf\u64ad\u653e\u5217\u8868<\/li><li><code>ap.list.add(audios: array | object)<\/code>: \u6dfb\u52a0\u4e00\u4e2a\u6216\u51e0\u4e2a\u65b0\u97f3\u9891\u5230\u64ad\u653e\u5217\u8868<\/li><\/ul><code>ap.list.add([{ name: 'name', artist: 'artist', url: 'url.mp3', cover: 'cover.jpg', lrc: 'lrc.lrc', theme: '#ebd0c2' }]);<\/code><ul><li><code>ap.list.remove(index: number)<\/code>: \u79fb\u9664\u64ad\u653e\u5217\u8868\u4e2d\u7684\u4e00\u4e2a\u97f3\u9891<\/li><\/ul><code>ap.list.remove(1);<\/code><ul><li><code>ap.list.switch()<\/code>: \u5207\u6362\u5230\u64ad\u653e\u5217\u8868\u91cc\u7684\u5176\u4ed6\u97f3\u9891<\/li><\/ul><code>ap.list.switch(1);<\/code>\n<ul>\n<li><code>ap.list.clear()<\/code>: \u6e05\u7a7a\u64ad\u653e\u5217\u8868<\/li>\n<\/ul>\n<\/li>\n\n\n\n<li><code>ap.audio<\/code>: \u539f\u751f audio\n<ul>\n<li><code>ap.audio.currentTime<\/code>: \u8fd4\u56de\u97f3\u9891\u5f53\u524d\u64ad\u653e\u65f6\u95f4<\/li>\n\n\n\n<li><code>ap.audio.duration<\/code>: \u8fd4\u56de\u97f3\u9891\u603b\u65f6\u95f4<\/li>\n\n\n\n<li><code>ap.audio.paused<\/code>: \u8fd4\u56de\u97f3\u9891\u662f\u5426\u6682\u505c<\/li>\n\n\n\n<li>\u652f\u6301\u5927\u591a\u6570<a href=\"http:\/\/www.w3schools.com\/tags\/ref_av_dom.asp\" target=\"_blank\" rel=\"noreferrer noopener\">\u539f\u751faudio\u63a5\u53e3<\/a><\/li>\n<\/ul>\n<\/li>\n<\/ul>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u4e8b\u4ef6\u7ed1\u5b9a\">\u4e8b\u4ef6\u7ed1\u5b9a<\/h2>\n\n\n\n<p><code>ap.on(event, handler)<\/code><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>ap.on('ended', function () {\n    console.log('player ended');\n});\n<\/code><\/pre>\n\n\n\n<p>\u97f3\u9891\u4e8b\u4ef6<\/p>\n\n\n\n<ul>\n<li>abort<\/li>\n\n\n\n<li>canplay<\/li>\n\n\n\n<li>canplaythrough<\/li>\n\n\n\n<li>durationchange<\/li>\n\n\n\n<li>emptied<\/li>\n\n\n\n<li>ended<\/li>\n\n\n\n<li>error<\/li>\n\n\n\n<li>loadeddata<\/li>\n\n\n\n<li>loadedmetadata<\/li>\n\n\n\n<li>loadstart<\/li>\n\n\n\n<li>mozaudioavailable<\/li>\n\n\n\n<li>pause<\/li>\n\n\n\n<li>play<\/li>\n\n\n\n<li>playing<\/li>\n\n\n\n<li>progress<\/li>\n\n\n\n<li>ratechange<\/li>\n\n\n\n<li>seeked<\/li>\n\n\n\n<li>seeking<\/li>\n\n\n\n<li>stalled<\/li>\n\n\n\n<li>suspend<\/li>\n\n\n\n<li>timeupdate<\/li>\n\n\n\n<li>volumechange<\/li>\n\n\n\n<li>waiting<\/li>\n<\/ul>\n\n\n\n<p>\u64ad\u653e\u5668\u4e8b\u4ef6<\/p>\n\n\n\n<ul>\n<li>listshow<\/li>\n\n\n\n<li>listhide<\/li>\n\n\n\n<li>listadd<\/li>\n\n\n\n<li>listremove<\/li>\n\n\n\n<li>listswitch<\/li>\n\n\n\n<li>listclear<\/li>\n\n\n\n<li>noticeshow<\/li>\n\n\n\n<li>noticehide<\/li>\n\n\n\n<li>destroy<\/li>\n\n\n\n<li>lrcshow<\/li>\n\n\n\n<li>lrchide<\/li>\n<\/ul>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u6b4c\u8bcd\">\u6b4c\u8bcd<\/h2>\n\n\n\n<p>\u6211\u4eec\u6709\u4e09\u79cd\u65b9\u5f0f\u6765\u7ed9 APlayer \u4f20\u9012\u6b4c\u8bcd\uff0c\u4f7f\u7528&nbsp;<code>lrcType<\/code>&nbsp;\u53c2\u6570\u6307\u660e\u4f7f\u7528\u54ea\u79cd\u65b9\u5f0f\uff0c\u7136\u540e\u628a\u6b4c\u8bcd\u653e\u5230&nbsp;<code>audio.lrc<\/code>&nbsp;\u53c2\u6570\u6216\u8005 HTML \u91cc\u3002<\/p>\n\n\n\n<h3 class=\"wp-block-heading\" id=\"lrc-\u6587\u4ef6\u65b9\u5f0f\">LRC \u6587\u4ef6\u65b9\u5f0f<\/h3>\n\n\n\n<p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u628a\u6b4c\u8bcd\u653e\u5230 LRC \u6587\u4ef6\u91cc\uff0c\u97f3\u9891\u64ad\u653e\u65f6\u4f1a\u52a0\u8f7d\u5bf9\u5e94\u7684 LRC \u6587\u4ef6\u3002<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    lrcType: 3,\n    audio: {\n        name: 'name',\n        artist: 'artist',\n        url: 'demo.mp3',\n        cover: 'demo.jpg',\n        lrc: 'lrc.lrc'\n    }\n});\n<\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\" id=\"js-\u5b57\u7b26\u4e32\u65b9\u5f0f\">JS \u5b57\u7b26\u4e32\u65b9\u5f0f<\/h3>\n\n\n\n<p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff0c\u628a\u6b4c\u8bcd\u653e\u5230 JS \u5b57\u7b26\u4e32\u91cc\u9762\u3002<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    lrcType: 1,\n    audio: {\n        name: 'name',\n        artist: 'artist',\n        url: 'demo.mp3',\n        cover: 'demo.jpg',\n        lrc: '&#91;00:00.00]APlayer\\n&#91;00:04.01]is\\n&#91;00:08.02]amazing'\n    }\n});\n<\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\" id=\"html-\u65b9\u5f0f\">HTML \u65b9\u5f0f<\/h3>\n\n\n\n<p>\u7b2c\u4e09\u79cd\u65b9\u5f0f\uff0c\u628a\u6b4c\u8bcd\u653e\u5230 HTML \u91cc\u9762\u3002<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>&lt;link rel=\"stylesheet\" href=\"APlayer.min.css\"&gt;\n&lt;div id=\"player\"&gt;\n    &lt;pre class=\"aplayer-lrc-content\"&gt;\n        &#91;00:00.00]APlayer audio1\n        &#91;00:04.01]is\n        &#91;00:08.02]amazing\n        &lt;!-- ... --&gt;\n    &lt;\/pre&gt;\n    &lt;pre class=\"aplayer-lrc-content\"&gt;\n        &#91;00:00.00]APlayer audio2\n        &#91;00:04.01]is\n        &#91;00:08.02]amazing\n        &lt;!-- ... --&gt;\n    &lt;\/pre&gt;\n&lt;\/div&gt;\n&lt;script src=\"APlayer.min.js\"&gt;&lt;\/script&gt;\n<\/code><\/pre>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    lrcType: 2,\n    audio: &#91;&#91;\n        {\n            name: 'name1',\n            artist: 'artist1',\n            url: 'url1.mp3',\n            cover: 'cover1.jpg'\n        },\n        {\n            name: 'name2',\n            artist: 'artist2',\n            url: 'url2.mp3',\n            cover: 'cover2.jpg'\n        }\n    ]]\n});\n<\/code><\/pre>\n\n\n\n<h3 class=\"wp-block-heading\" id=\"\u6b4c\u8bcd\u683c\u5f0f\">\u6b4c\u8bcd\u683c\u5f0f<\/h3>\n\n\n\n<p>\u652f\u6301\u4e0b\u9762\u683c\u5f0f\u7684\u6b4c\u8bcd\uff1a<\/p>\n\n\n\n<p><code>[mm:ss]APlayer<\/code><\/p>\n\n\n\n<p><code>[mm:ss.xx]is<\/code><\/p>\n\n\n\n<p><code>[mm:ss.xxx]amazing<\/code><\/p>\n\n\n\n<p><code>[mm:ss.xx][mm:ss.xx]APlayer<\/code><\/p>\n\n\n\n<p><code>[mm:ss.xx]&lt;mm:ss.xx&gt;is<\/code><\/p>\n\n\n\n<p><code>[mm:ss.xx]amazing[mm:ss.xx]APlayer<\/code><\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u64ad\u653e\u5217\u8868\">\u64ad\u653e\u5217\u8868<\/h2>\n\n\n\n<p>\u5f53\u6709\u591a\u4e2a\u97f3\u9891\u65f6\u4f1a APlayer \u4f1a\u5c55\u793a\u4e00\u4e2a\u64ad\u653e\u5217\u8868\uff0c<code>listFolded<\/code>&nbsp;\u53c2\u6570\u6307\u660e\u5217\u8868\u662f\u5426\u9ed8\u8ba4\u6298\u53e0\uff0c<code>listMaxHeight<\/code>&nbsp;\u53c2\u6570\u6307\u660e\u5217\u8868\u6700\u5927\u9ad8\u5ea6\u3002<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('player'),\n    listFolded: false,\n    listMaxHeight: 90,\n    lrcType: 3,\n    audio: &#91;\n        {\n            name: 'name1',\n            artist: 'artist1',\n            url: 'url1.mp3',\n            cover: 'cover1.jpg',\n            lrc: 'lrc1.lrc',\n            theme: '#ebd0c2'\n        },\n        {\n            name: 'name2',\n            artist: 'artist2',\n            url: 'url2.mp3',\n            cover: 'cover2.jpg',\n            lrc: 'lrc2.lrc',\n            theme: '#46718b'\n        }\n    ]\n});\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u5438\u5e95\u6a21\u5f0f\">\u5438\u5e95\u6a21\u5f0f<\/h2>\n\n\n\n<p>APlayer \u53ef\u4ee5\u901a\u8fc7\u5438\u5e95\u6a21\u5f0f\u56fa\u5b9a\u5728\u9875\u9762\u5e95\u90e8\uff0c\u8fd9\u79cd\u6a21\u5f0f\u8ddf\u666e\u901a\u6a21\u5f0f\u6709\u5f88\u5927\u4e0d\u540c\u3002\u70b9\u51fb<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('player'),\n    fixed: true,\n    audio: &#91;{\n        name: 'name',\n        artist: 'artist',\n        url: 'url.mp3',\n        cover: 'cover.jpg',\n    }]\n});\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u8ff7\u4f60\u6a21\u5f0f\">\u8ff7\u4f60\u6a21\u5f0f<\/h2>\n\n\n\n<p>\u5982\u679c\u4f60\u6ca1\u6709\u8db3\u591f\u7a7a\u95f4\u6765\u653e\u7f6e\u6b63\u5e38\u6a21\u5f0f\u7684\u64ad\u653e\u5668\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u8ff7\u4f60\u6a21\u5f0f\u3002<\/p>\n\n\n\n<p>\u8bf7\u6ce8\u610f\u8ff7\u4f60\u6a21\u5f0f\u4e0e\u5438\u5e95\u6a21\u5f0f\u51b2\u7a81\u3002<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('player'),\n    mini: true,\n    audio: &#91;{\n        name: 'name',\n        artist: 'artist',\n        url: 'url.mp3',\n        cover: 'cover.jpg',\n    }]\n});\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"mse-\u652f\u6301\">MSE \u652f\u6301<\/h2>\n\n\n\n<h3 class=\"wp-block-heading\" id=\"hls\">HLS<\/h3>\n\n\n\n<p>\u9700\u8981\u5728&nbsp;<code>APlayer.min.js<\/code>&nbsp;\u524d\u9762\u52a0\u8f7d&nbsp;<a rel=\"noreferrer noopener\" href=\"https:\/\/github.com\/video-dev\/hls.js\" target=\"_blank\">hls.js<\/a>\u3002<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>&lt;link rel=\"stylesheet\" href=\"APlayer.min.css\"&gt;\n&lt;div id=\"aplayer\"&gt;&lt;\/div&gt;\n&lt;script src=\"hls.min.js\"&gt;&lt;\/script&gt;\n&lt;script src=\"APlayer.min.js\"&gt;&lt;\/script&gt;\n<\/code><\/pre>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    audio: &#91;{\n        name: 'HLS',\n        artist: 'artist',\n        url: 'url.m3u8',\n        cover: 'cover.jpg',\n        type: 'hls'\n    }]\n});\n<\/code><\/pre>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ \u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u4f7f\u7528 customAudioType\nconst ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    audio: &#91;{\n        name: 'HLS',\n        artist: 'artist',\n        url: 'url.m3u8',\n        cover: 'cover.jpg',\n        type: 'customHls'\n    }],\n    customAudioType: {\n        'customHls': function (audioElement, audio, player) {\n            if (Hls.isSupported()) {\n                const hls = new Hls();\n                hls.loadSource(audio.url);\n                hls.attachMedia(audioElement);\n            }\n            else if (audioElement.canPlayType('application\/x-mpegURL') || audioElement.canPlayType('application\/vnd.apple.mpegURL')) {\n                audioElement.src = audio.url;\n            }\n            else {\n                player.notice('Error: HLS is not supported.');\n            }\n        }\n    }\n});\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u6839\u636e\u5c01\u9762\u81ea\u9002\u5e94\u4e3b\u9898\u8272\">\u6839\u636e\u5c01\u9762\u81ea\u9002\u5e94\u4e3b\u9898\u8272<\/h2>\n\n\n\n<p>\u9700\u8981\u989d\u5916\u52a0\u8f7d&nbsp;<a rel=\"noreferrer noopener\" href=\"https:\/\/github.com\/lokesh\/color-thief\/blob\/master\/src\/color-thief.js\" target=\"_blank\">color-thief.js<\/a><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>&lt;link rel=\"stylesheet\" href=\"APlayer.min.css\"&gt;\n&lt;div id=\"aplayer\"&gt;&lt;\/div&gt;\n&lt;script src=\"APlayer.min.js\"&gt;&lt;\/script&gt;\n&lt;script src=\"color-thief.js\"&gt;&lt;\/script&gt;\n<\/code><\/pre>\n\n\n\n<pre class=\"wp-block-code\"><code>const ap = new APlayer({\n    container: document.getElementById('aplayer'),\n    theme: '#e9e9e9',\n    audio: &#91;{\n        name: 'name1',\n        artist: 'artist1',\n        url: 'url1.mp3',\n        cover: 'cover1.jpg'\n    }, {\n        name: 'name2',\n        artist: 'artist2',\n        url: 'url2.mp3',\n        cover: 'cover2.jpg'\n    }]\n});\n\nconst colorThief = new ColorThief();\nconst image = new Image();\nconst xhr = new XMLHttpRequest();\nconst setTheme = (index) =&gt; {\n    if (!ap.list.audios&#91;index].theme) {\n        xhr.onload = function(){\n            let coverUrl = URL.createObjectURL(this.response);\n            image.onload = function(){\n                let color = colorThief.getColor(image);\n                ap.theme(`rgb(${color&#91;0]}, ${color&#91;1]}, ${color&#91;2]})`, index);\n                URL.revokeObjectURL(coverUrl)\n            };\n            image.src = coverUrl;\n        }\n        xhr.open('GET', ap.list.audios&#91;index].cover, true);\n        xhr.responseType = 'blob';\n        xhr.send();\n    }\n};\nsetTheme(ap.list.index);\nap.on('listswitch', (index) =&gt; {\n    setTheme(index);\n});\n<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"cdn\">CDN<\/h2>\n\n\n\n<ul>\n<li><a href=\"https:\/\/www.jsdelivr.com\/package\/npm\/aplayer\" target=\"_blank\" rel=\"noreferrer noopener\">jsDelivr<\/a><\/li>\n\n\n\n<li><a href=\"https:\/\/cdnjs.com\/libraries\/aplayer\" target=\"_blank\" rel=\"noreferrer noopener\">cdnjs<\/a><\/li>\n\n\n\n<li><a href=\"https:\/\/unpkg.com\/aplayer\/\" target=\"_blank\" rel=\"noreferrer noopener\">unpkg<\/a><\/li>\n<\/ul>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"\u5e38\u89c1\u95ee\u9898\">\u5e38\u89c1\u95ee\u9898<\/h2>\n\n\n\n<h3 class=\"wp-block-heading\" id=\"\u4e3a\u4ec0\u4e48\u64ad\u653e\u5668\u4e0d\u80fd\u5728\u624b\u673a\u4e0a\u81ea\u52a8\u64ad\u653e\uff1f\">\u4e3a\u4ec0\u4e48\u64ad\u653e\u5668\u4e0d\u80fd\u5728\u624b\u673a\u4e0a\u81ea\u52a8\u64ad\u653e\uff1f<\/h3>\n\n\n\n<p>\u5927\u591a\u6570\u79fb\u52a8\u7aef\u6d4f\u89c8\u5668\u7981\u6b62\u4e86\u97f3\u9891\u81ea\u52a8\u64ad\u653e\u3002<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">\u53c2\u8003\u8d44\u6599<\/h2>\n\n\n\n<ul>\n<li><a href=\"https:\/\/aplayer.js.org\/#\/zh-Hans\/\" target=\"_blank\" rel=\"noreferrer noopener\">\u9996\u9875 &#8211; APlayer<\/a><\/li>\n<\/ul>\n","protected":false},"excerpt":{"rendered":"<p>\u54c7\uff0c\u8fd9\u4e48\u6f02\u4eae\u7684HTML5\u97f3\u4e50\u64ad\u653e\u5668<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":"","_wp_rev_ctl_limit":""},"categories":[2,5,11],"tags":[35,36,44,77],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v21.8.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>APlayer - \u65f6\u7a7a\u4e4b\u6b4c<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/space520.eu.org\/archives\/374\" \/>\n<meta property=\"og:locale\" content=\"zh_CN\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"APlayer - \u65f6\u7a7a\u4e4b\u6b4c\" \/>\n<meta property=\"og:description\" content=\"\u54c7\uff0c\u8fd9\u4e48\u6f02\u4eae\u7684HTML5\u97f3\u4e50\u64ad\u653e\u5668\" \/>\n<meta property=\"og:url\" content=\"https:\/\/space520.eu.org\/archives\/374\" \/>\n<meta property=\"og:site_name\" content=\"\u65f6\u7a7a\u4e4b\u6b4c\" \/>\n<meta property=\"article:published_time\" content=\"2023-01-14T13:16:30+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/space520.eu.org\/wp-content\/uploads\/2023\/03\/cropped-63e512384757feff33d9afcf-1.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"512\" \/>\n\t<meta property=\"og:image:height\" content=\"512\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"author\" content=\"Space520\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Article\",\"@id\":\"https:\/\/space520.eu.org\/archives\/374#article\",\"isPartOf\":{\"@id\":\"https:\/\/space520.eu.org\/archives\/374\"},\"author\":{\"name\":\"Space520\",\"@id\":\"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d\"},\"headline\":\"APlayer\",\"datePublished\":\"2023-01-14T13:16:30+00:00\",\"dateModified\":\"2023-01-14T13:16:30+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/space520.eu.org\/archives\/374\"},\"wordCount\":162,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d\"},\"keywords\":[\"html\",\"html5\",\"web\",\"\u97f3\u4e50\"],\"articleSection\":[\"IT\",\"Web\",\"\u6587\u7ae0\"],\"inLanguage\":\"zh-CN\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/space520.eu.org\/archives\/374#respond\"]}]},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/space520.eu.org\/archives\/374\",\"url\":\"https:\/\/space520.eu.org\/archives\/374\",\"name\":\"APlayer - \u65f6\u7a7a\u4e4b\u6b4c\",\"isPartOf\":{\"@id\":\"https:\/\/space520.eu.org\/#website\"},\"datePublished\":\"2023-01-14T13:16:30+00:00\",\"dateModified\":\"2023-01-14T13:16:30+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/space520.eu.org\/archives\/374#breadcrumb\"},\"inLanguage\":\"zh-CN\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/space520.eu.org\/archives\/374\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/space520.eu.org\/archives\/374#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"\u9996\u9875\",\"item\":\"https:\/\/space520.eu.org\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"APlayer\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/space520.eu.org\/#website\",\"url\":\"https:\/\/space520.eu.org\/\",\"name\":\"\u65f6\u7a7a\u4e4b\u6b4c\",\"description\":\"\u6211\u4eec\u90fd\u662f\u9634\u6c9f\u91cc\u7684\u866b\u5b50\uff0c\u4f46\u603b\u8fd8\u662f\u5f97\u6709\u4eba\u4ef0\u671b\u661f\u7a7a\u3002\",\"publisher\":{\"@id\":\"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/space520.eu.org\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"zh-CN\"},{\"@type\":[\"Person\",\"Organization\"],\"@id\":\"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d\",\"name\":\"Space520\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"zh-CN\",\"@id\":\"https:\/\/space520.eu.org\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/dn-qiniu-avatar.qbox.me\/avatar\/8f5d3146527da4ed30525c8ae11d007b?s=96&d=monsterid&r=g\",\"contentUrl\":\"https:\/\/dn-qiniu-avatar.qbox.me\/avatar\/8f5d3146527da4ed30525c8ae11d007b?s=96&d=monsterid&r=g\",\"caption\":\"Space520\"},\"logo\":{\"@id\":\"https:\/\/space520.eu.org\/#\/schema\/person\/image\/\"},\"sameAs\":[\"https:\/\/space520.eu.org\",\"admin\"]}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"APlayer - \u65f6\u7a7a\u4e4b\u6b4c","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/space520.eu.org\/archives\/374","og_locale":"zh_CN","og_type":"article","og_title":"APlayer - \u65f6\u7a7a\u4e4b\u6b4c","og_description":"\u54c7\uff0c\u8fd9\u4e48\u6f02\u4eae\u7684HTML5\u97f3\u4e50\u64ad\u653e\u5668","og_url":"https:\/\/space520.eu.org\/archives\/374","og_site_name":"\u65f6\u7a7a\u4e4b\u6b4c","article_published_time":"2023-01-14T13:16:30+00:00","og_image":[{"width":512,"height":512,"url":"https:\/\/space520.eu.org\/wp-content\/uploads\/2023\/03\/cropped-63e512384757feff33d9afcf-1.jpg","type":"image\/jpeg"}],"author":"Space520","schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/space520.eu.org\/archives\/374#article","isPartOf":{"@id":"https:\/\/space520.eu.org\/archives\/374"},"author":{"name":"Space520","@id":"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d"},"headline":"APlayer","datePublished":"2023-01-14T13:16:30+00:00","dateModified":"2023-01-14T13:16:30+00:00","mainEntityOfPage":{"@id":"https:\/\/space520.eu.org\/archives\/374"},"wordCount":162,"commentCount":0,"publisher":{"@id":"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d"},"keywords":["html","html5","web","\u97f3\u4e50"],"articleSection":["IT","Web","\u6587\u7ae0"],"inLanguage":"zh-CN","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/space520.eu.org\/archives\/374#respond"]}]},{"@type":"WebPage","@id":"https:\/\/space520.eu.org\/archives\/374","url":"https:\/\/space520.eu.org\/archives\/374","name":"APlayer - \u65f6\u7a7a\u4e4b\u6b4c","isPartOf":{"@id":"https:\/\/space520.eu.org\/#website"},"datePublished":"2023-01-14T13:16:30+00:00","dateModified":"2023-01-14T13:16:30+00:00","breadcrumb":{"@id":"https:\/\/space520.eu.org\/archives\/374#breadcrumb"},"inLanguage":"zh-CN","potentialAction":[{"@type":"ReadAction","target":["https:\/\/space520.eu.org\/archives\/374"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/space520.eu.org\/archives\/374#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"\u9996\u9875","item":"https:\/\/space520.eu.org\/"},{"@type":"ListItem","position":2,"name":"APlayer"}]},{"@type":"WebSite","@id":"https:\/\/space520.eu.org\/#website","url":"https:\/\/space520.eu.org\/","name":"\u65f6\u7a7a\u4e4b\u6b4c","description":"\u6211\u4eec\u90fd\u662f\u9634\u6c9f\u91cc\u7684\u866b\u5b50\uff0c\u4f46\u603b\u8fd8\u662f\u5f97\u6709\u4eba\u4ef0\u671b\u661f\u7a7a\u3002","publisher":{"@id":"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/space520.eu.org\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"zh-CN"},{"@type":["Person","Organization"],"@id":"https:\/\/space520.eu.org\/#\/schema\/person\/4d776690d721e635bf98be568d29515d","name":"Space520","image":{"@type":"ImageObject","inLanguage":"zh-CN","@id":"https:\/\/space520.eu.org\/#\/schema\/person\/image\/","url":"https:\/\/dn-qiniu-avatar.qbox.me\/avatar\/8f5d3146527da4ed30525c8ae11d007b?s=96&d=monsterid&r=g","contentUrl":"https:\/\/dn-qiniu-avatar.qbox.me\/avatar\/8f5d3146527da4ed30525c8ae11d007b?s=96&d=monsterid&r=g","caption":"Space520"},"logo":{"@id":"https:\/\/space520.eu.org\/#\/schema\/person\/image\/"},"sameAs":["https:\/\/space520.eu.org","admin"]}]}},"_links":{"self":[{"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/posts\/374"}],"collection":[{"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/comments?post=374"}],"version-history":[{"count":0,"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/posts\/374\/revisions"}],"wp:attachment":[{"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/media?parent=374"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/categories?post=374"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/space520.eu.org\/wp-json\/wp\/v2\/tags?post=374"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}